<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marco Perrotta's Portfolio</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&family=Courier+Prime:wght@400;700&display=swap');
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }

        
        body {
            font-family: 'Courier Prime', 'Courier New', monospace;
            background: linear-gradient(45deg, #2a2a2a 0%, #1a1a1a 100%);
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Retro CRT effect */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    90deg,
                    rgba(0, 255, 0, 0.03),
                    rgba(0, 255, 0, 0.03) 2px,
                    transparent 2px,
                    transparent 4px
                );
            pointer-events: none;
            z-index: 1;
        }

        .desktop {
            width: 100%;
            height: 100vh;
            position: relative;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(0, 255, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(0, 200, 255, 0.03) 0%, transparent 50%);
        }

        .file-icon, .folder-icon, .link-icon, .mail-icon, .video-icon {
            position: absolute;
            width: 80px;
            height: 100px;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            z-index: 2;
        }

        .clicked {
            border: 2px dashed #00ff41;
            background: rgba(0, 255, 65, 0.1);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.3);
        }

        .file-icon:hover, .folder-icon:hover, .link-icon:hover, .mail-icon:hover, .video-icon:hover { 
            transform: scale(1.05);
            filter: brightness(1.2);
        }

        .icon-image {
            width: 64px;
            height: 64px;
            margin: 0 auto 5px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            border: 2px solid #333;
            border-radius: 4px;
            background-color: #444;
        }

        .file-icon .icon-image {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2300ff41"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/></svg>');
            border-color: #00ff41;
        }

        .folder-icon .icon-image {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ffaa00"><path d="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"/></svg>');
            border-color: #ffaa00;
        }

        .link-icon .icon-image {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2300aaff"><path d="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>');
            border-color: #00aaff;
            position: relative;
        }

        .mail-icon .icon-image {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff6b6b"><path d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.11,4 20,4Z"/></svg>');
            border-color: #ff6b6b;
        }

        .video-icon .icon-image {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff00aa"><path d="M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>');
            border-color: #ff00aa;
        }

        .link-icon .icon-image::after {
            content: '‚Üó';
            position: absolute;
            bottom: -8px;
            right: -8px;
            width: 16px;
            height: 16px;
            background: #00aaff;
            color: white;
            border-radius: 2px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #333;
        }

        .icon-label {
            color: #00ff41;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 2px 6px;
            border-radius: 2px;
            border: 1px solid #333;
            word-wrap: break-word;
            font-family: 'VT323', monospace;
        }

        .editor-window, .folder-window, .video-window, .aquarium-window {
            position: fixed;
            background: #222;
            border-radius: 0;
            border: 3px outset #666;
            box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.6);
            z-index: 1000;
            width: 700px;
            height: 500px;
            display: none;
        }

        .aquarium-window {
            width: 520px;
            height: 420px;
            top: 20px;
            right: 20px;
        }

        .window-header {
            background: linear-gradient(180deg, #666 0%, #444 100%);
            padding: 8px 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            border-bottom: 2px inset #666;
            height: 36px;
            flex-shrink: 0;
        }

        .window-title {
            color: white;
            font-weight: bold;
            font-size: 14px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            font-family: 'VT323', monospace;
        }

        .window-controls {
            display: flex;
            gap: 4px;
        }

        .control-btn {
            width: 16px;
            height: 16px;
            border: 2px outset #666;
            cursor: pointer;
            transition: all 0.1s ease;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: black;
            font-weight: bold;
        }

        .control-btn.close { background: #ff6b6b; }
        .control-btn.close::after { content: '√ó'; }
        .control-btn.minimize { background: #feca57; }
        .control-btn.minimize::after { content: '_'; }
        .control-btn.maximize { background: #48dbfb; }
        .control-btn.maximize::after { content: '‚ñ°'; }
        
        .control-btn:active { border: 2px inset #666; }

        .editor-content {
            height: calc(100% - 36px);
            display: flex;
            flex-direction: column;
        }

        .editor-toolbar {
            background: #333;
            padding: 6px 12px;
            border-bottom: 2px inset #666;
            font-size: 12px;
            color: #00ff41;
            height: 28px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            font-family: 'VT323', monospace;
            text-shadow: 0 0 3px #00ff41;
        }

        .editor-textarea {
            flex: 1;
            background: #111;
            color: #00ff41;
            border: none;
            padding: 15px;
            font-family: 'Courier Prime', 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            outline: none;
            overflow-y: auto;
            min-height: 0;
            text-shadow: 0 0 2px #00ff41;
        }

        .folder-content {
            padding: 15px;
            height: calc(100% - 64px);
            overflow-y: auto;
            background: #111;
        }

        .folder-item {
            display: flex;
            align-items: center;
            padding: 6px 12px;
            color: #00ff41;
            cursor: pointer;
            border-radius: 0;
            margin-bottom: 2px;
            transition: background-color 0.1s;
            min-height: 32px;
            font-family: 'VT323', monospace;
            border: 1px solid transparent;
        }

        .folder-item:hover {
            background: rgba(0, 255, 65, 0.1);
            border: 1px solid #00ff41;
        }

        .folder-item.clicked {
            background: rgba(0, 255, 65, 0.2);
            border: 1px solid #00ff41;
        }

        .folder-item-icon {
            width: 24px;
            height: 24px;
            margin-right: 12px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            flex-shrink: 0;
            min-width: 24px;
            border: 1px solid #333;
            background-color: #222;
        }

        .breadcrumb {
            background: #333;
            padding: 6px 12px;
            border-bottom: 2px inset #666;
            color: #ffaa00;
            font-size: 12px;
            height: 28px;
            flex-shrink: 0;
            font-family: 'VT323', monospace;
            text-shadow: 0 0 3px #ffaa00;
        }

        .breadcrumb-item {
            color: #00aaff;
            cursor: pointer;
            text-decoration: none;
            text-shadow: 0 0 3px #00aaff;
        }

        .breadcrumb-item:hover {
            text-decoration: underline;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .editor-window.show, .folder-window.show, .video-window.show, .aquarium-window.show {
            display: block;
            animation: fadeIn 0.2s ease;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(180deg, #666 0%, #333 100%);
            border-top: 2px outset #666;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            z-index: 500;
        }

        .taskbar-left {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .taskbar-item {
            background: linear-gradient(180deg, #555 0%, #333 100%);
            color: white;
            padding: 4px 12px;
            border: 2px outset #666;
            margin-right: 5px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.1s ease;
            font-family: 'VT323', monospace;
        }

        .taskbar-item:hover {
            background: linear-gradient(180deg, #666 0%, #444 100%);
        }

        .taskbar-item:active {
            border: 2px inset #666;
        }

        .taskbar-signature {
            color: #ffaa00;
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'VT323', monospace;
            text-shadow: 0 0 3px #ffaa00;
        }

        .signature-name {
            cursor: pointer;
            transition: color 0.2s ease;
            user-select: none;
        }

        .signature-name:hover {
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41;
        }

        /* Easter Egg Chicken Icon */
        .chicken-icon {
            display: none;
            font-size: 16px;
            animation: retro-blink 1s infinite;
        }

        .chicken-icon.show {
            display: inline-block;
        }

        @keyframes retro-blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Folder specific icons - versioni retro */
        .folder-item-icon.email-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(255,107,107)"><path d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.11,4 20,4Z"/></svg>') !important;
            border-color: #ff6b6b !important;
        }

        .folder-item-icon.linkedin-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(0,170,255)"><path d="M19 3A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V5A2 2 0 0 1 5 3H19M18.5 18.5V13.2A3.26 3.26 0 0 0 15.24 9.94C14.39 9.94 13.4 10.46 12.92 11.24V10.13H10.13V18.5H12.92V13.57C12.92 12.8 13.54 12.17 14.31 12.17A1.4 1.4 0 0 1 15.71 13.57V18.5H18.5M6.88 8.56A1.68 1.68 0 0 0 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19S5.19 5.95 5.19 6.88A1.69 1.69 0 0 0 6.88 8.56M8.27 18.5V10.13H5.5V18.5H8.27Z"/></svg>') !important;
            border-color: #00aaff !important;
        }

        .folder-item-icon.file-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(0,255,65)"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/></svg>') !important;
            border-color: #00ff41 !important;
        }

        .folder-item-icon.pdf-icon {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(255,170,0)"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/><path d="M8,15H16V17H8V15M8,13H16V11H8V13M8,9H11V7H8V9Z" fill="white"/></svg>') !important;
            border-color: #ffaa00 !important;
        }

        .folder-item.download-item::after {
            content: '‚¨á';
            margin-left: auto;
            font-weight: bold;
            color: #00ff41;
            font-size: 16px;
            text-shadow: 0 0 5px #00ff41;
            animation: retro-blink 2s infinite;
        }

        /* Custom scrollbar retro */
        ::-webkit-scrollbar {
            width: 16px;
        }

        ::-webkit-scrollbar-track {
            background: #222;
            border: 2px inset #666;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #555 0%, #333 100%);
            border: 2px outset #666;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #666 0%, #444 100%);
        }

        /* Video player styles */
        .video-content {
            height: calc(100% - 36px);
            background: #111;
            display: flex;
            flex-direction: column;
        }

        .video-player-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .video-player {
            width: 100%;
            height: 100%;
            max-width: 640px;
            max-height: 360px;
            border: 2px solid #666;
            background: #000;
        }

        .video-info {
            background: #333;
            padding: 10px 15px;
            border-top: 2px inset #666;
            color: #ff00aa;
            font-size: 12px;
            font-family: 'VT323', monospace;
            text-shadow: 0 0 3px #ff00aa;
        }

        /* Aquarium styles */
        .aquarium-content {
            height: calc(100% - 36px);
            background: #111;
            overflow: hidden;
            position: relative;
        }

        .aquarium-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #0d47a1, #1a237e);
            border: none;
            box-shadow: none;
            image-rendering: pixelated;
            overflow: hidden;
        }

        /* Bubbles */
        .bubble {
            position: absolute;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle at 30% 30%, #00ffff, #0099cc);
            border-radius: 50%;
            opacity: 0.6;
            box-shadow: 0 0 4px #00ffff;
        }

        /* Fish e creature */
        .creature {
            position: absolute;
            image-rendering: pixelated;
        }

        /* Pesci nuotatori */
        .fish {
            width: 32px;
            height: 16px;
        }

        .fish-body {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
        }

        /* Fish 1 - Orange */
        .fish1 .fish-body {
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 32 16" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="6" width="16" height="4" fill="%23ff9500"/><rect x="20" y="5" width="3" height="6" fill="%23ff9500"/><circle cx="2" cy="8" r="2" fill="%23000"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Fish 2 - Green */
        .fish2 .fish-body {
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 32 16" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="5" width="18" height="6" fill="%2300cc44"/><polygon points="22,6 26,8 22,10" fill="%2300cc44"/><circle cx="2" cy="8" r="2" fill="%23000"/></svg>') no-repeat center;
            background-size: contain;
            transform: scaleX(-1);
        }

        /* Fish 3 - Red */
        .fish3 .fish-body {
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 32 16" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="14" height="4" fill="%23ff3333"/><polygon points="20,6 24,8 20,10" fill="%23ff3333"/><circle cx="3" cy="8" r="2" fill="%23000"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Fish 4 - Yellow */
        .fish4 .fish-body {
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 32 16" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="6" width="15" height="4" fill="%23ffff00"/><polygon points="20,7 24,8 20,9" fill="%23ffff00"/><circle cx="2" cy="8" r="1.5" fill="%23000"/></svg>') no-repeat center;
            background-size: contain;
            transform: scaleX(-1);
        }

        /* Fish 5 - Purple */
        .fish5 .fish-body {
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 32 16" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="5" width="18" height="6" fill="%23cc44ff"/><polygon points="22,6 26,8 22,10" fill="%23cc44ff"/><circle cx="2" cy="8" r="2" fill="%23000"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Starfish */
        .starfish {
            width: 24px;
            height: 24px;
        }

        .starfish-body {
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><polygon points="12,2 15,10 24,12 16,18 18,27 12,23 6,27 8,18 0,12 9,10" fill="%23ff6b9d" stroke="%23000" stroke-width="0.5"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Jellyfish */
        .jellyfish {
            width: 20px;
            height: 28px;
        }

        .jellyfish-body {
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 20 28" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="6" r="6" fill="%23ff66cc" opacity="0.7"/><line x1="6" y1="12" x2="4" y2="28" stroke="%23ff66cc" stroke-width="1"/><line x1="10" y1="12" x2="10" y2="28" stroke="%23ff66cc" stroke-width="1"/><line x1="14" y1="12" x2="16" y2="28" stroke="%23ff66cc" stroke-width="1"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Sea Urchin */
        .urchin {
            width: 16px;
            height: 16px;
        }

        .urchin-body {
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="4" fill="%23330033"/><line x1="8" y1="1" x2="8" y2="0" stroke="%23330033" stroke-width="1"/><line x1="15" y1="8" x2="16" y2="8" stroke="%23330033" stroke-width="1"/><line x1="8" y1="15" x2="8" y2="16" stroke="%23330033" stroke-width="1"/><line x1="1" y1="8" x2="0" y2="8" stroke="%23330033" stroke-width="1"/><line x1="12" y1="3" x2="13" y2="2" stroke="%23330033" stroke-width="1"/><line x1="13" y1="13" x2="12" y2="12" stroke="%23330033" stroke-width="1"/><line x1="3" y1="13" x2="4" y2="12" stroke="%23330033" stroke-width="1"/><line x1="2" y1="3" x2="3" y2="2" stroke="%23330033" stroke-width="1"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Pineapple */
        .pineapple {
            width: 120px;
            height: 60px;
        }

        .pineapple-body {
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="20" y="15" width="80" height="40" fill="%23ffbb00" stroke="%23000" stroke-width="1" rx="5"/><polygon points="40,15 45,0 55,15" fill="%2300dd44"/><polygon points="60,15 65,0 75,15" fill="%2300dd44"/><polygon points="80,15 85,0 95,15" fill="%2300dd44"/><line x1="30" y1="25" x2="90" y2="25" stroke="%23aa8800" stroke-width="1"/><line x1="30" y1="35" x2="90" y2="35" stroke="%23aa8800" stroke-width="1"/><line x1="30" y1="45" x2="90" y2="45" stroke="%23aa8800" stroke-width="1"/><line x1="35" y1="20" x2="35" y2="50" stroke="%23aa8800" stroke-width="1"/><line x1="50" y1="20" x2="50" y2="50" stroke="%23aa8800" stroke-width="1"/><line x1="65" y1="20" x2="65" y2="50" stroke="%23aa8800" stroke-width="1"/><line x1="80" y1="20" x2="80" y2="50" stroke="%23aa8800" stroke-width="1"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Sponge */
        .sponge {
            width: 40px;
            height: 40px;
        }

        .sponge-body {
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="5" width="32" height="32" fill="%23ffcc00" stroke="%23000" stroke-width="1" rx="3"/><circle cx="10" cy="10" r="2" fill="%23ffaa00"/><circle cx="20" cy="10" r="2" fill="%23ffaa00"/><circle cx="30" cy="10" r="2" fill="%23ffaa00"/><circle cx="10" cy="20" r="2" fill="%23ffaa00"/><circle cx="20" cy="20" r="2" fill="%23ffaa00"/><circle cx="30" cy="20" r="2" fill="%23ffaa00"/><circle cx="10" cy="30" r="2" fill="%23ffaa00"/><circle cx="20" cy="30" r="2" fill="%23ffaa00"/><circle cx="30" cy="30" r="2" fill="%23ffaa00"/></svg>') no-repeat center;
            background-size: contain;
        }

        /* Arch Structure */
        .arch {
            position: absolute;
            bottom: 40px;
            width: 120px;
            height: 60px;
            border: 3px solid #8b6f47;
            border-top: 3px solid #8b6f47;
            border-radius: 120px 120px 0 0;
            background: linear-gradient(to bottom, #9d8a7e, #8b7355);
            opacity: 0.7;
        }

        /* Seaweed */
        .seaweed {
            position: absolute;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to top, #004400, #008800);
            opacity: 0.8;
        }

        .seaweed::before,
        .seaweed::after {
            content: '';
            position: absolute;
            width: 2px;
            background: #006600;
            left: 1px;
        }

        .seaweed::before {
            height: 30%;
            bottom: 70%;
            transform: skewX(-5deg);
        }

        .seaweed::after {
            height: 50%;
            bottom: 50%;
            transform: skewX(5deg);
        }

        /* Sand */
        .sand {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: repeating-linear-gradient(90deg, #d4a574, #d4a574 2px, #c9985f 2px, #c9985f 4px);
            opacity: 1;
        }

        /* Retro text */
        .title {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #00ffff;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 2px 2px #ff00ff;
            z-index: 10;
        }

        .info {
            position: absolute;
            bottom: 42px;
            right: 10px;
            color: #ffff00;
            font-size: 10px;
            text-shadow: 1px 1px #ff0080;
        }

        /* Posizionamento icone fisso */
        .desktop .file-icon:nth-child(1) { top: 50px; left: 100px; }
        .desktop .file-icon:nth-child(2) { top: 200px; left: 300px; }
        .desktop .folder-icon:nth-child(3) { top: 300px; left: 150px; }
        .desktop .folder-icon:nth-child(4) { top: 150px; left: 700px; }
        .desktop .folder-icon:nth-child(5) { top: 350px; left: 600px; }
        .desktop .folder-icon:nth-child(6) { top: 100px; left: 500px; }
        .desktop .link-icon:nth-child(7) { top: 450px; left: 300px; }
        .desktop .video-icon:nth-child(8) { top: 250px; left: 800px; }

        .folder-item span{ margin-left:35px;}

        .loading-content { height: calc(100% - 36px); background: #111; color: #00ff41; font-family: 'Courier Prime', monospace; padding: 10px; overflow-y: auto; white-space: pre-wrap; }
        .loading { color: #ffaa00; }
        .success { color: #00ff41; }
        .system-info { color: #00aaff; }
        .prompt { color: #ff6b6b; }
        .overlay {position: absolute; top:0; left:0;width:100%;height:100%;background:linear-gradient(45deg, #2a2a2a 0%, #1a1a1a 100%);z-index:500;}
        .hidden {
          visibility: hidden;
          opacity: 0;
          pointer-events:none;
          transition: visibility 0s 2s, opacity 2s linear;
        }

    </style>
</head>
<body>
    <div class="desktop" id="desktop">
        <!-- File esistenti -->
        <div class="file-icon" data-file="readme">
            <div class="icon-image"></div>
            <div class="icon-label">README.txt</div>
        </div>
        
        <div class="file-icon" data-file="notes">
            <div class="icon-image"></div>
            <div class="icon-label">appunti_su_di_me.txt</div>
        </div>

        <!-- Cartelle -->
        <div class="folder-icon" data-folder="documenti">
            <div class="icon-image"></div>
            <div class="icon-label">AboutMe</div>
        </div>
        
        <div class="folder-icon" data-folder="progetti">
            <div class="icon-image"></div>
            <div class="icon-label">Progetti</div>
        </div>
        
        <div class="folder-icon" data-folder="pubblicazioni">
            <div class="icon-image"></div>
            <div class="icon-label">Pubblicazioni</div>
        </div>
        
        <div class="folder-icon" data-folder="contatti">
            <div class="icon-image"></div>
            <div class="icon-label">Contatti</div>
        </div>

        <!-- Collegamento web -->
        <div class="link-icon" data-link="portfolio">
            <div class="icon-image"></div>
            <div class="icon-label">Il mio Portfolio</div>
        </div>

        <!-- Nuova icona video -->
        <div class="video-icon" data-video="demo">
            <div class="icon-image"></div>
            <div class="icon-label">JuliaCon Local Paris 2025</div>
        </div>
    </div>

    <!-- Finestra Editor -->
    <div class="editor-window" id="editorWindow">
        <div class="window-header">
            <div class="window-title" id="editorTitle">Editor di Testo</div>
            <div class="window-controls">
                <div class="control-btn minimize"></div>
                <div class="control-btn maximize"></div>
                <div class="control-btn close" onclick="closeEditor()"></div>
            </div>
        </div>
        <div class="editor-content">
            <div class="editor-toolbar">
                File: <span id="currentFile">Nessun file aperto</span> | Linee: <span id="lineCount">0</span>
            </div>
            <textarea class="editor-textarea" id="editorTextarea" placeholder="Contenuto del file..."></textarea>
        </div>
    </div>

    <!-- Finestra Cartella -->
    <div class="folder-window" id="folderWindow">
        <div class="window-header">
            <div class="window-title" id="folderTitle">Esplora File</div>
            <div class="window-controls">
                <div class="control-btn minimize"></div>
                <div class="control-btn maximize"></div>
                <div class="control-btn close" onclick="closeFolder()"></div>
            </div>
        </div>
        <div class="breadcrumb" id="breadcrumb">
            <a href="#" class="breadcrumb-item" onclick="goHome()">Home</a> / <span id="currentPath">Desktop</span>
        </div>
        <div class="folder-content" id="folderContent"></div>
    </div>

    <!-- Nuova finestra Video Player -->
    <div class="video-window" id="videoWindow">
        <div class="window-header">
            <div class="window-title" id="videoTitle">Video Player</div>
            <div class="window-controls">
                <div class="control-btn minimize"></div>
                <div class="control-btn maximize"></div>
                <div class="control-btn close" onclick="closeVideo()"></div>
            </div>
        </div>
        <div class="video-content">
<!-- Sostituisci questa sezione nel codice -->
<div class="video-player-container">
    <iframe class="video-player" id="youtubePlayer" 
            src="" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            allowfullscreen>
    </iframe>
</div>
            <div class="video-info" id="videoInfo">
                Caricamento video in corso...
            </div>
        </div>
    </div>

    <!-- Finestra Aquarium -->
    <div class="aquarium-window" id="aquariumWindow">
        <div class="window-header">
            <div class="window-title">Pixel Aquarium</div>
            <div class="window-controls">
                <div class="control-btn minimize"></div>
                <div class="control-btn maximize"></div>
                <div class="control-btn close" onclick="closeAquarium()"></div>
            </div>
        </div>
        <div class="aquarium-content">
            <div class="aquarium-container" id="aquariumContainer">
                <!-- Fish -->
                <div class="creature fish fish1" id="fish1">
                    <div class="fish-body"></div>
                </div>
                <div class="creature fish fish2" id="fish2">
                    <div class="fish-body"></div>
                </div>
                <div class="creature fish fish3" id="fish3">
                    <div class="fish-body"></div>
                </div>
                <div class="creature fish fish4" id="fish4">
                    <div class="fish-body"></div>
                </div>

                <!-- Starfish -->
                <div class="creature starfish" id="starfish1">
                    <div class="starfish-body"></div>
                </div>

                <!-- Jellyfish -->
                <div class="creature jellyfish" id="jellyfish1">
                    <div class="jellyfish-body"></div>
                </div>
                <div class="creature jellyfish" id="jellyfish2">
                    <div class="jellyfish-body"></div>
                </div>
                <div class="creature jellyfish" id="jellyfish3">
                    <div class="jellyfish-body"></div>
                </div>
                <div class="creature jellyfish" id="jellyfish4">
                    <div class="jellyfish-body"></div>
                </div>

                <!-- Sea Urchin -->
                <div class="creature urchin" id="urchin1">
                    <div class="urchin-body"></div>
                </div>
                <div class="creature urchin" id="urchin2">
                    <div class="urchin-body"></div>
                </div>
                <div class="creature urchin" id="urchin3">
                    <div class="urchin-body"></div>
                </div>
                <div class="creature urchin" id="urchin4">
                    <div class="urchin-body"></div>
                </div>

                <!-- Pineapple -->
                <div class="creature pineapple" id="pineapple1">
                    <div class="pineapple-body"></div>
                </div>

                <!-- Sponge -->
                <div class="creature sponge" id="sponge1">
                    <div class="sponge-body"></div>
                </div>

                <!-- Arch Structure -->
                <div class="arch" style="left: 190px;"></div>

                <!-- Seaweed -->
                <div class="seaweed" style="left: 30px; height: 100px;"></div>
                <div class="seaweed" style="left: 150px; height: 120px;"></div>
                <div class="seaweed" style="left: 280px; height: 110px;"></div>
                <div class="seaweed" style="left: 420px; height: 95px;"></div>

                <div class="sand"></div>
            </div>
        </div>
    </div>

    <!-- Taskbar retro -->
    <div class="taskbar" id="taskbar">
        <div class="taskbar-left" id="taskbarLeft"></div>
        <div class="taskbar-signature">
            Created by <span class="signature-name" id="signatureName">Marco Perrotta</span>
            <span class="chicken-icon" id="chickenIcon">üêì</span>
        </div>
    </div>


<!---------------->
  <div class="overlay"></div>

  <div class="editor-window show" id="bootWindow">
        <div class="window-header">
            <div class="window-title">System Boot</div>
            <div class="window-controls">
                <div class="control-btn close" onclick="document.getElementById('bootWindow').style.display='none'"></div>
            </div>
        </div>
        <div class="loading-content" id="bootContent"></div>
    </div>

    <script>
        
        const bootSequence = [
            { text: "Initializing Marco Perrotta Portfolio System...", class: "loading", delay: 100 },
            { text: "", class: "", delay: 200 },
            { text: "BIOS Version 2024.03.15", class: "system-info", delay: 150 },
            { text: "Loading personal data modules...", class: "loading", delay: 300 },
            { text: "[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100%", class: "success", delay: 800 },
            { text: "", class: "", delay: 200 },
            { text: ">> System Ready. Executing profile.exe", class: "prompt", delay: 400 },
            { text: "", class: "", delay: 300 },
            { text: "==========================================", class: "system-info", delay: 100 },
            { text: "         MARCO PERROTTA PROFILE", class: "success", delay: 150 },
            { text: "==========================================", class: "system-info", delay: 100 },
            { text: "", class: "", delay: 200 },
            { text: "Name: Marco Perrotta", class: "", delay: 150 },
            { text: "Location: Pozzuoli -> Ferrara", class: "", delay: 150 },
            { text: "Status: Software Developer & AI Enthusiast", class: "", delay: 150 },
            { text: "", class: "", delay: 200 },
            { text: "Education:", class: "system-info", delay: 150 },
            { text: "  ‚Ä¢ Universit√† degli Studi di Ferrara", class: "", delay: 150 },
            { text: "    - Laurea Magistrale in AI (in corso)", class: "", delay: 150 },
            { text: "    - Laurea Triennale Informatica (110/110 cum laude)", class: "success", delay: 150 },
            { text: "  ‚Ä¢ IIS N.Copernico A.Carpeggiani", class: "", delay: 150 },
            { text: "    - Diploma Scienze Informatiche (100/100 cum laude)", class: "success", delay: 150 },
            { text: "", class: "", delay: 200 },
            { text: "Core Skills:", class: "system-info", delay: 150 },
            { text: "  ‚Ä¢ Languages: C, Java, Julia, Haskell, Python", class: "", delay: 150 },
            { text: "  ‚Ä¢ Systems: Unix-like OS, Git", class: "", delay: 150 },
            { text: "  ‚Ä¢ Database: MySQL, PHP, Laravel", class: "", delay: 150 },
            { text: "  ‚Ä¢ AI/ML: Machine Learning, Interpretable ML", class: "success", delay: 150 },
            { text: "", class: "", delay: 200 },
            { text: "Current Projects:", class: "system-info", delay: 150 },
            { text: "  ‚Ä¢ SOLE.jl - Interpretable ML Framework", class: "success", delay: 150 },
            { text: "  ‚Ä¢ LUMEN Algorithm - Logic-driven Extractor", class: "success", delay: 150 },
            { text: "  ‚Ä¢ SOLEPOSTHOC.jl - Post-hoc Analysis Library", class: "success", delay: 150 },
            { text: "", class: "", delay: 200 },
            { text: "Publications:", class: "system-info", delay: 150 },
            { text: "  ‚Ä¢ Tesi: Framework sistematico logic-based", class: "", delay: 150 },
            { text: "  ‚Ä¢ Paper: Minimal Rules from Decision Forests", class: "", delay: 150 },
            { text: "", class: "", delay: 200 },
            { text: "Contact:", class: "system-info", delay: 150 },
            { text: "  ‚Ä¢ Email: perrottamarco2011@gmail.com", class: "", delay: 150 },
            { text: "  ‚Ä¢ GitHub: github.com/Perro2110", class: "", delay: 150 },
            { text: "  ‚Ä¢ LinkedIn: /in/marco-perrotta-b159b6244", class: "", delay: 150 },
            { text: "", class: "", delay: 200 },
            { text: "Passion: Creating elegant solutions for complex problems", class: "success", delay: 150 },
            { text: "Focus: Mathematical foundations + practical implementation", class: "success", delay: 150 },
            { text: "", class: "", delay: 300 },
            { text: "==========================================", class: "system-info", delay: 100 },
            { text: "Profile loaded successfully.", class: "success", delay: 200 },
            { text: "Starting desktop environment...", class: "loading", delay: 500 },
            { text: "", class: "", delay: 200 },
            { text: "Click minimize button to continue", class: "prompt", delay: 300 }
        ];

        function runBootSequence() {
            
            if(localStorage.getItem(`fakecookie`)){
               document.getElementsByClassName("overlay")[0].classList.add("hidden"); 
               return;
            }

            localStorage.setItem(`fakecookie`,true);             

            const container = document.getElementById('bootContent');
            
            const win = document.getElementById('bootWindow');
            win.style.left = `${(window.innerWidth - 700) / 2}px`;
            win.style.top = `${(window.innerHeight - 500) / 2}px`;
            win.style.display = 'block';

            let i = 0;
            function nextLine() {
                if (i >= bootSequence.length){
                    document.getElementsByClassName("overlay")[0].classList.add("hidden"); 
                    return;
                }
                const item = bootSequence[i];
                const line = document.createElement('div');
                line.className = item.class;
                line.textContent = item.text;
                container.appendChild(line);
                container.scrollTop = container.scrollHeight;
                i++;
                setTimeout(nextLine, item.delay);
            }
            nextLine();
        }

        window.onload = runBootSequence;
    </script>
<!---------------->


    <script>
        // File
        const files = {
            readme: { 
                name: "README.txt",
                content: `üëã Ciao, sono Marco Perrotta
Software Developer appassionato di tecnologia e innovazione.
Mi piace creare soluzioni eleganti per problemi complessi.
I miei principali ambiti di interesse includono il machine learning, la programmazione e l'ottimizzazione delle implementazioni.
Attualmente, collaboro con il mio team di ricerca allo sviluppo di Sole.jl, un framework di apprendimento automatico interpretabile (IML) scritto nel linguaggio di programmazione Julia. Inoltre, sono fortemente interessato agli aspetti matematici e teorici che sottendono queste discipline.`
            },
            notes: { 
                name: "appunti_su_di_me.txt", 
                content: `Nato a Pozzuoli e cresciuto a Ferrara, ho sviluppato fin da giovane una profonda passione per l'informatica e la tecnologia.
La mia curiosit√† per i computer, sbocciata durante l'adolescenza, si √® evoluta nel tempo in un interesse professionale per gli aspetti pi√π avanzati dell'intelligenza artificiale e della programmazione.
I miei principali ambiti di interesse includono il machine learning, la programmazione e l'ottimizzazione delle implementazioni.
Attualmente, collaboro con il mio team di ricerca allo sviluppo di Sole.jl, un framework di apprendimento automatico interpretabile (IML) scritto nel linguaggio di programmazione Julia.
Inoltre, sono fortemente interessato agli aspetti matematici e teorici che sottendono queste discipline.
Questo percorso mi ha portato a specializzarmi nell'ambito del machine learning, dove posso combinare il mio amore per la matematica con le sfide dell'implementazione pratica`
            },
            email: { 
                name: "email.txt", 
                content: `üìß Il mio indirizzo email principale:

perrottamarco2011@gmail.com

Sentiti libero di contattarmi per:
- Opportunit√† lavorative
- Collaborazioni su progetti
- Discussioni tecniche
- Domande sui miei progetti`
            }
        };

        // Collegamenti web
        const links = {
            portfolio: {
                name: "Il mio Portfolio",
                url: "https://github.com/Perro2110",
                target: "_blank"
            },
            linkedin: {
                name: "LinkedIn",
                url: "https://linkedin.com/in/marco-perrotta-b159b6244",
                target: "_blank"
            },
            email: {
                name: "Invia Email",
                url: "mailto:perrottamarco2011@gmail.com?subject=Contatto dal Portfolio&body=Ciao Marco,%0D%0A%0D%0AHo visto il tuo portfolio e vorrei contattarti per:%0D%0A%0D%0A",
                target: "_self"
            }
        };

        // Video da YouTube
        const videos = {
            demo: {
                name: "JuliaCon Local Paris 2025",
                youtubeId: "JVHeIdVPK8Y", // Sostituisci con l'ID del tuo video YouTube
                title: "Presentazione a JuliaCon Local Paris 2025, del pacchetto SolePostHoc.jl",
                description: "In questo video, abbiamo presentato tre grandi novit√† per Sole.jl. Io presento il pacchetto SolePostHoc.jl, che offre strumenti avanzati per l'analisi post-hoc di modelli di apprendimento automatico simbolico. Durante la presentazione, illustro le funzionalit√† principali del pacchetto e un caso d'uso."
            }
        };

        // Download diretti per PDF
        const downloads = {
            thesis: {
                name: "Scarica Tesi (PDF)",
                url: "https://github.com/Perro2110/perro2110.github.io/raw/main/Tesi.pdf",
                filename: "Tesi_Marco_Perrotta.pdf"
            },
            paper: {
                name: "Scarica Paper Workshop (PDF)",
                url: "https://overlay.uniud.it/workshop/2024/papers/paper14.pdf",
                filename: "Workshop_Paper_Marco_Perrotta.pdf"
            }
        };

        // Funzione helper per ottenere l'icona appropriata
        function getIconClass(linkKey) {
            switch(linkKey) {
                case 'email':
                    return 'email-icon';
                case 'linkedin':
                    return 'linkedin-icon';
                default:
                    return 'file-icon';
            }
        }

        // Cartelle
        const folders = {
            documenti: {
                name: "AboutMe",
                files: [
                    { name: "formazione.txt", content: `üìö Formazione
- Universit√† degli Studi di Ferrara
    Laurea Magistrale in AI (in corso)
    Laurea Triennale in Informatica (2022-2025) - 110/110 cum laude

- IIS N.Copernico A.Carpeggiani
    Diploma in Scienze Informatiche (2017-2022) - 100/100 cum laude`},
                    { name: "competenze.txt", content: `üõ† Competenze Tecniche
- C, Java, Julia, Haskell, Python
- Unix-like OS, Git
- MySQL, PHP, Laravel` }
                ]
            },
            progetti: {
                name: "Progetti",
                files: [
                    { name: "Lumen.txt", content: `Algoritmo LUMEN
Logic-driven Unified Minimal Extractor of Notions √® un algoritmo esatto e altamente parallelizzabile che, grazie alla sua elevata parametrizzazione, consente, qualora richiesto, di individuare un equilibrio ottimale tra la precisione dei risultati e la complessit√† computazionale.` },
                    { name: "SolePostHoc.txt", content: `Libreria SOLEPOSTHOC.jl
Libreria integrata nell'ecosistema SOLE dedicata all'implementazione di algoritmi post-hoc avanzati, con particolare enfasi sul unificazione di meccanismi di estrazione concettuale.` },
                    { name: "Sole.txt", content: `Framework SOLE.jl
Un framework per l'apprendimento automatico simbolico, trasparente e interpretabile` }
                ]
            },
            pubblicazioni: {
                name: "Pubblicazioni",
                files: [
                    { name: "tesi.txt", content: `- Tesi di Laurea Triennale ‚Ä¢ Universit√† degli Studi di Ferrara
                        ‚Ä¢ Informatica ‚Ä¢ 2024
  "Un framework sistematico logic-based per spiegare modelli simbolici di
   ensemble"
    La mia tesi di laurea triennale, che approfondisce gli aspetti teorici e
    pratici del framework LUMEN per spiegare modelli simbolici di ensemble` },
                    { name: "lista_paper.txt", content: `- Workshop Paper ‚Ä¢ 2024
  "Minimal Rules from Decision Forests: a Systematic Approach"
    Analisi, formalizzazione e approccio iniziale alla risoluzione del problema
    dell'estrazione di regole minime da foreste decisionali.` }
                ],
                downloads: [
                    { name: "Tesi (Download)", key: "thesis" },
                    { name: "Minimal Rules from Decision Forests: a Systematic Approach (PDF-viewer)", key: "paper" }
                ]
            },
            contatti: {
                name: "Contatti",
                files: [],
                links: [
                    { name: "Invia Email", key: "email" },
                    { name: "LinkedIn", key: "linkedin" }
                ]
            }
        };

        let currentFolder = null;
        let openWindows = [];
        let windowZIndex = 1000;
        let clickCount = 0; // Per l'easter egg
        let aquariumClosedTime = null;
        const AQUARIUM_REOPEN_DELAY = 30000; // 30 secondi

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Aggiungi event listeners per i file
            document.querySelectorAll('.file-icon').forEach(icon => {
                icon.addEventListener('dblclick', function() {
                    const fileKey = this.getAttribute('data-file');
                    openFile(fileKey);
                });
                icon.addEventListener('click', function(){
                    const desktop = document.getElementById('desktop');
                    const children = desktop.children;
                    for (let el of children)
                        el.classList.remove("clicked");
                    this.classList.add('clicked');
                });
            });

            // Aggiungi event listeners per le cartelle
            document.querySelectorAll('.folder-icon').forEach(icon => {
                icon.addEventListener('dblclick', function() {
                    const folderKey = this.getAttribute('data-folder');
                    openFolder(folderKey);
                });
                icon.addEventListener('click', function(){
                    const desktop = document.getElementById('desktop');
                    const children = desktop.children;
                    for (let el of children)
                        el.classList.remove("clicked");
                    this.classList.add('clicked');
                });
            });

            // Aggiungi event listeners per i collegamenti
            document.querySelectorAll('.link-icon').forEach(icon => {
                icon.addEventListener('dblclick', function() {
                    const linkKey = this.getAttribute('data-link');
                    openLink(linkKey);
                });
                icon.addEventListener('click', function(){
                    const desktop = document.getElementById('desktop');
                    const children = desktop.children;
                    for (let el of children)
                        el.classList.remove("clicked");
                    this.classList.add('clicked');
                });
            });

            // Aggiungi event listeners per i video
            document.querySelectorAll('.video-icon').forEach(icon => {
                icon.addEventListener('dblclick', function() {
                    const videoKey = this.getAttribute('data-video');
                    openVideo(videoKey);
                });
                icon.addEventListener('click', function(){
                    const desktop = document.getElementById('desktop');
                    const children = desktop.children;
                    for (let el of children)
                        el.classList.remove("clicked");
                    this.classList.add('clicked');
                });
            });

            // Event listener per l'easter egg del pollo
            document.getElementById('signatureName').addEventListener('click', function() {
                clickCount++;
                if (clickCount === 10) {
                    document.getElementById('chickenIcon').classList.add('show');
                    setTimeout(() => {
                        document.getElementById('chickenIcon').classList.remove('show');
                        clickCount = 0; // Reset counter
                    }, 5000);
                }
            });

            // Rendi le finestre draggable
            makeWindowDraggable('editorWindow');
            makeWindowDraggable('folderWindow');
            makeWindowDraggable('videoWindow');
            makeWindowDraggable('aquariumWindow');
            makeWindowDraggable('bootWindow');

            // Aggiungi listener per aggiornare il contatore delle linee
            document.getElementById('editorTextarea').addEventListener('input', updateLineCount);

            // Avvia l'acquario dopo il boot
            setTimeout(initializeAquarium, 1000);
        });

        // Inizializza l'acquario
        function initializeAquarium() {
            const aquarium = document.getElementById('aquariumContainer');
            const width = aquarium.offsetWidth;
            const height = aquarium.offsetHeight - 40;

            class SwimmingCreature {
                constructor(element, speed, depth, type = 'fish') {
                    this.element = element;
                    this.x = Math.random() * width;
                    this.y = depth;
                    this.speed = speed;
                    this.direction = Math.random() > 0.5 ? 1 : -1;
                    this.type = type;
                    this.wobble = Math.random() * 0.5;
                    this.wobblePhase = Math.random() * Math.PI * 2;
                }

                update() {
                    this.x += this.speed * this.direction;
                    this.wobblePhase += 0.05;
                    const wobbleY = Math.sin(this.wobblePhase) * this.wobble;

                    if (this.x > width + 40) this.x = -40;
                    if (this.x < -40) this.x = width + 40;

                    this.element.style.left = this.x + 'px';
                    this.element.style.top = (this.y + wobbleY) + 'px';
                }
            }

            class StationaryCreature {
                constructor(element, x, y) {
                    this.element = element;
                    this.x = x;
                    this.y = y;
                    this.bobPhase = Math.random() * Math.PI * 2;
                    this.bobAmount = 2;
                    this.bobSpeed = 0.02;
                }

                update() {
                    this.bobPhase += this.bobSpeed;
                    const bobY = Math.sin(this.bobPhase) * this.bobAmount;
                    this.element.style.left = this.x + 'px';
                    this.element.style.top = (this.y + bobY) + 'px';
                }
            }

            class Jellyfish {
                constructor(element, x, startY) {
                    this.element = element;
                    this.x = x;
                    this.y = startY;
                    this.minY = 80;
                    this.maxY = 280;
                    this.speed = 0.5 + Math.random() * 0.5;
                    this.direction = Math.random() > 0.5 ? 1 : -1;
                }

                update() {
                    this.y += this.speed * this.direction;
                    if (this.y > this.maxY) this.direction = -1;
                    if (this.y < this.minY) this.direction = 1;

                    this.element.style.left = this.x + 'px';
                    this.element.style.top = this.y + 'px';
                }
            }

            const creatures = [];

            // Swimming fish
            creatures.push(new SwimmingCreature(document.getElementById('fish1'), 1.5, 50, 'fish'));
            creatures.push(new SwimmingCreature(document.getElementById('fish2'), 1, 120, 'fish'));
            creatures.push(new SwimmingCreature(document.getElementById('fish3'), 2, 180, 'fish'));
            creatures.push(new SwimmingCreature(document.getElementById('fish4'), 0.8, 90, 'fish'));

            // Starfish
            creatures.push(new StationaryCreature(document.getElementById('starfish1'), 60, 320));

            // Jellyfish - moving up and down
            creatures.push(new Jellyfish(document.getElementById('jellyfish1'), 80, 150));
            creatures.push(new Jellyfish(document.getElementById('jellyfish2'), 250, 200));
            creatures.push(new Jellyfish(document.getElementById('jellyfish3'), 150, 120));
            creatures.push(new Jellyfish(document.getElementById('jellyfish4'), 350, 180));

            // Sea Urchin
            creatures.push(new StationaryCreature(document.getElementById('urchin1'), 200, 330));
            creatures.push(new StationaryCreature(document.getElementById('urchin2'), 330, 320));
            creatures.push(new StationaryCreature(document.getElementById('urchin3'), 100, 325));
            creatures.push(new StationaryCreature(document.getElementById('urchin4'), 420, 315));

            // Pineapple
            creatures.push(new StationaryCreature(document.getElementById('pineapple1'), 360, 295));

            // Sponge - walks back and forth on the bottom
            creatures.push(new SwimmingCreature(document.getElementById('sponge1'), 0.6, 310, 'sponge'));

            // Bubbles
            function createBubble() {
                const bubble = document.createElement('div');
                bubble.className = 'bubble';
                const x = Math.random() * (width - 8);
                const y = height + 40;
                const duration = 3 + Math.random() * 3;
                
                bubble.style.left = x + 'px';
                bubble.style.top = y + 'px';
                aquarium.appendChild(bubble);

                let time = 0;
                const startX = x;
                const wobble = Math.sin(Math.random()) * 20;

                const bubbleInterval = setInterval(() => {
                    time += 0.05;
                    const newY = y - (time * 40);
                    const newX = startX + Math.sin(time * 3) * wobble;

                    bubble.style.top = newY + 'px';
                    bubble.style.left = newX + 'px';
                    bubble.style.opacity = Math.max(0, 0.6 - time / duration);

                    if (time > duration) {
                        clearInterval(bubbleInterval);
                        bubble.remove();
                    }
                }, 30);
            }

            setInterval(createBubble, 600);

            // Animation loop
            function animate() {
                creatures.forEach(creature => creature.update());
                requestAnimationFrame(animate);
            }

            animate();

            // Mostra l'acquario
            showAquarium();
        }

        // Mostra l'acquario
        function showAquarium() {
            const aquariumWindow = document.getElementById('aquariumWindow');
            aquariumWindow.style.zIndex = ++windowZIndex;
            aquariumWindow.classList.add('show');
            addToTaskbar('Pixel Aquarium', 'aquarium');
        }

        // Chiudi l'acquario
        function closeAquarium() {
            const aquariumWindow = document.getElementById('aquariumWindow');
            aquariumWindow.classList.remove('show');
            removeFromTaskbar('aquarium');
            
            // Imposta il timer per riaprire l'acquario
            aquariumClosedTime = Date.now();
            setTimeout(checkAquariumReopen, AQUARIUM_REOPEN_DELAY);
        }

        // Controlla se riaprire l'acquario
        function checkAquariumReopen() {
            const aquariumWindow = document.getElementById('aquariumWindow');
            if (!aquariumWindow.classList.contains('show') && aquariumClosedTime && 
                (Date.now() - aquariumClosedTime) >= AQUARIUM_REOPEN_DELAY) {
                //showAquarium();
                aquariumClosedTime = null;
            }
        }

        // Funzione per aprire collegamenti
        function openLink(linkKey) {
            const link = links[linkKey];
            if (!link) return;
            window.open(link.url, link.target || '_blank');
        }

        // Funzione per aprire video
// Funzione per aprire video
function openVideo(videoKey) {
    const video = videos[videoKey];
    if (!video) return;

    const videoWindow = document.getElementById('videoWindow');
    const videoTitle = document.getElementById('videoTitle');
    const youtubePlayer = document.getElementById('youtubePlayer');
    const videoInfo = document.getElementById('videoInfo');

    videoTitle.textContent = `Video Player - ${video.name}`;
    
    // Costruisci l'URL di embed di YouTube SENZA autoplay
    const youtubeUrl = `https://www.youtube.com/embed/${video.youtubeId}`;
    youtubePlayer.src = youtubeUrl;
    
    videoInfo.textContent = `${video.title} - ${video.description}`;

    videoWindow.style.left = `${(window.innerWidth - 700) / 2 + Math.random() * 50 - 25}px`;
    videoWindow.style.top = `${(window.innerHeight - 500) / 2 + Math.random() * 50 - 25}px`;
    videoWindow.style.zIndex = ++windowZIndex;

    videoWindow.classList.add('show');
    addToTaskbar(`Video - ${video.name}`, 'video');
}

        // Funzione per chiudere il video player
        function closeVideo() {
            const videoWindow = document.getElementById('videoWindow');
            const youtubePlayer = document.getElementById('youtubePlayer');
            
            // Ferma il video quando si chiude la finestra
            youtubePlayer.src = '';
            
            videoWindow.classList.remove('show');
            removeFromTaskbar('video');
        }

        // Funzione per scaricare file PDF
        function downloadFile(downloadKey) {
            const download = downloads[downloadKey];
            if (!download) return;

            const a = document.createElement('a');
            a.href = download.url;
            a.download = download.filename;
            a.target = '_blank';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        function openFile(fileKey) {
            const file = files[fileKey];
            if (!file) return;

            const editorWindow = document.getElementById('editorWindow');
            const editorTitle = document.getElementById('editorTitle');
            const editorTextarea = document.getElementById('editorTextarea');
            const currentFile = document.getElementById('currentFile');

            editorTitle.textContent = `Editor - ${file.name}`;
            currentFile.textContent = file.name;
            editorTextarea.value = file.content;

            editorWindow.style.left = `${(window.innerWidth - 700) / 2 + Math.random() * 50 - 25}px`;
            editorWindow.style.top = `${(window.innerHeight - 500) / 2 + Math.random() * 50 - 25}px`;
            editorWindow.style.zIndex = ++windowZIndex;

            editorWindow.classList.add('show');
            updateLineCount();
            addToTaskbar(`Editor - ${file.name}`, 'editor');
        }

        function openFolder(folderKey) {
            const folder = folders[folderKey];
            if (!folder) return;

            currentFolder = folderKey;
            const folderWindow = document.getElementById('folderWindow');
            const folderTitle = document.getElementById('folderTitle');
            const folderContent = document.getElementById('folderContent');
            const currentPath = document.getElementById('currentPath');

            folderTitle.textContent = folder.name;
            currentPath.textContent = folder.name;

            folderContent.innerHTML = '';

            // Aggiungi i file normali
            folder.files.forEach((file, index) => {
                const fileElement = document.createElement('div');
                fileElement.className = 'folder-item';
                fileElement.innerHTML = `
                    <div class="folder-item-icon file-icon"></div>
                    <span>${file.name}</span>
                `;
                fileElement.addEventListener('dblclick', () => {
                    openFileFromFolder(folderKey, index);
                });
                fileElement.addEventListener('click', function(){
                    const parent = this.parentNode;
                    const children = parent.children;
                    for (let el of children)
                        el.classList.remove("clicked");
                    this.classList.add('clicked');
                });
                folderContent.appendChild(fileElement);
            });

            // Aggiungi i collegamenti se presenti
            if (folder.links) {
                folder.links.forEach((link) => {
                    const linkElement = document.createElement('div');
                    linkElement.className = 'folder-item';

                    const iconClass = getIconClass(link.key);
                    linkElement.innerHTML = `
                        <div class="folder-item-icon ${iconClass}"></div>
                        <span>${link.name}</span>
                    `;
                    linkElement.addEventListener('dblclick', () => {
                        openLink(link.key);
                    });

                    linkElement.addEventListener('click', function(){
                        const parent = this.parentNode;
                        const children = parent.children;
                        for (let el of children)
                            el.classList.remove("clicked");
                        this.classList.add('clicked');
                    });

                    folderContent.appendChild(linkElement);
                });
            }

            // Aggiungi i download PDF se presenti
            if (folder.downloads) {
                folder.downloads.forEach((download) => {
                    const downloadElement = document.createElement('div');
                    downloadElement.className = 'folder-item download-item';
                    downloadElement.innerHTML = `
                        <div class="folder-item-icon pdf-icon"></div>
                        <span>${download.name}</span>
                    `;
                    downloadElement.addEventListener('dblclick', () => {
                        downloadFile(download.key);
                    });

                    downloadElement.addEventListener('click', function(){
                        const parent = this.parentNode;
                        const children = parent.children;
                        for (let el of children)
                            el.classList.remove("clicked");
                        this.classList.add('clicked');
                    });

                    folderContent.appendChild(downloadElement);
                });
            }

            folderWindow.style.left = `${(window.innerWidth - 700) / 2 + Math.random() * 100 - 50}px`;
            folderWindow.style.top = `${(window.innerHeight - 500) / 2 + Math.random() * 100 - 50}px`;
            folderWindow.style.zIndex = ++windowZIndex;

            folderWindow.classList.add('show');
            addToTaskbar(folder.name, 'folder');
        }

        function openFileFromFolder(folderKey, fileIndex) {
            const folder = folders[folderKey];
            const file = folder.files[fileIndex];

            const editorWindow = document.getElementById('editorWindow');
            const editorTitle = document.getElementById('editorTitle');
            const editorTextarea = document.getElementById('editorTextarea');
            const currentFile = document.getElementById('currentFile');

            editorTitle.textContent = `Editor - ${file.name}`;
            currentFile.textContent = `${folder.name}/${file.name}`;
            editorTextarea.value = file.content;

            editorWindow.style.left = `${(window.innerWidth - 700) / 2 + Math.random() * 50 - 25}px`;
            editorWindow.style.top = `${(window.innerHeight - 500) / 2 + Math.random() * 50 - 25}px`;
            editorWindow.style.zIndex = ++windowZIndex;

            editorWindow.classList.add('show');
            updateLineCount();
            addToTaskbar(`Editor - ${file.name}`, 'editor');
        }

        function closeEditor() {
            document.getElementById('editorWindow').classList.remove('show');
            removeFromTaskbar('editor');
        }

        function closeFolder() {
            document.getElementById('folderWindow').classList.remove('show');
            removeFromTaskbar('folder');
        }

        function goHome() {
            closeFolder();
        }

        function updateLineCount() {
            const textarea = document.getElementById('editorTextarea');
            const lineCount = textarea.value.split('\n').length;
            document.getElementById('lineCount').textContent = lineCount;
        }

        function addToTaskbar(title, type) {
            const taskbarLeft = document.getElementById('taskbarLeft');
            const taskbarItem = document.createElement('div');
            taskbarItem.className = 'taskbar-item';
            taskbarItem.textContent = title;
            taskbarItem.dataset.type = type;
            taskbarItem.addEventListener('click', () => {
                if (type === 'editor') {
                    document.getElementById('editorWindow').style.zIndex = ++windowZIndex;
                } else if (type === 'folder') {
                    document.getElementById('folderWindow').style.zIndex = ++windowZIndex;
                } else if (type === 'video') {
                    document.getElementById('videoWindow').style.zIndex = ++windowZIndex;
                } else if (type === 'aquarium') {
                    document.getElementById('aquariumWindow').style.zIndex = ++windowZIndex;
                }
            });
            taskbarLeft.appendChild(taskbarItem);
        }

        function removeFromTaskbar(type) {
            const taskbarLeft = document.getElementById('taskbarLeft');
            const items = taskbarLeft.querySelectorAll(`.taskbar-item[data-type="${type}"]`);
            items.forEach(item => item.remove());
        }

        function makeWindowDraggable(windowId) {
            const windowEl = document.getElementById(windowId);
            const header = windowEl.querySelector('.window-header');
            let isDragging = false;
            let currentX = 0;
            let currentY = 0;
            let initialX = 0;
            let initialY = 0;

            header.addEventListener('mousedown', dragStart);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);

            function dragStart(e) {
                initialX = e.clientX - windowEl.offsetLeft;
                initialY = e.clientY - windowEl.offsetTop;
                isDragging = true;
                windowEl.style.zIndex = ++windowZIndex;
            }

            function drag(e) {
                if (isDragging) {
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;

                    windowEl.style.left = currentX + 'px';
                    windowEl.style.top = currentY + 'px';
                }
            }

            function dragEnd() {
                isDragging = false;
            }
        }

        // Gestione del click sulle finestre per portarle in primo piano
        document.addEventListener('click', function(e) {
            if (e.target.closest('#editorWindow')) {
                document.getElementById('editorWindow').style.zIndex = ++windowZIndex;
            } else if (e.target.closest('#folderWindow')) {
                document.getElementById('folderWindow').style.zIndex = ++windowZIndex;
            } else if (e.target.closest('#videoWindow')) {
                document.getElementById('videoWindow').style.zIndex = ++windowZIndex;
            } else if (e.target.closest('#aquariumWindow')) {
                document.getElementById('aquariumWindow').style.zIndex = ++windowZIndex;
            }
        });
    </script>
</body>
</html>
